#
# This variable organizes the pages
#
namespace eval learn {
  variable order {
    "Basic Setup"       setup.tml
    "Template #1"       self.tml
    "Server Security"   security.tml
  }
  variable prefix /learn
}

# learn::header - page header for this section

proc ::learn::header { title } {
  Doc_Dynamic
  set html [mypage::header $title]
  append html "<p>[clock format [clock seconds] -format "%H:%M %p"] [::learn::links]<p>\n"
  return $html
}

# learn::links - format links to the pages in this section

proc ::learn::links {{sep " | "}} {
  variable order
  variable prefix
  set html ""
  append html "<a href=\"$prefix/\">Learn</a> "
  foreach {label url} $order {
    append html "$sep<a href=\"$prefix/$url\">$label</a>"
  }
  return $html
}

# learn::link - format a link to a page in this section
# The pattern argument matches against the labels for the links

proc ::learn::link {pattern} {
  variable order
  foreach {label url} $order {
    if {[string match $label $pattern]} {
      return "<a href=\"$url\">$label</a>"
    }
  }
  return "$pattern <!-- No ::learn::link matches $pattern -->\n"
}

